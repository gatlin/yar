{"version":3,"sources":["webpack:///webpack/bootstrap f8d85692c9b262cfb381","webpack:///./src/actions/index.js","webpack:///external \"React\"","webpack:///./src/components/Route.jsx","webpack:///./src/index.js","webpack:///./src/components/Router.jsx","webpack:///external \"ReactRedux\"","webpack:///./src/reducers/index.js"],"names":["ADD_SCENE","addScene","path","component","initial","props","type","data","PUSH_SCENE","push","POP_SCENE","pop","POP_AND_PUSH_SCENE","popAndPush","Route","getPath","parentPath","componentWillMount","console","error","render","has_children","React","Children","count","children","map","child","cloneElement","Router","routing","scenes","createElement","mapStateToProps","mapDispatchToProps","dispatch","p","c","i","ps","a","b","router","connect","initialState","history","state","newState","pushScene","popScene","popAndPushScene","routerReducer","action"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f8d85692c9b262cfb381","export const ADD_SCENE = 'ADD_SCENE';\nexport const addScene = (path, component, initial, props = {}) => ({\n    type: ADD_SCENE,\n    data: { path, component, initial, props }\n});\n\nexport const PUSH_SCENE = 'PUSH_SCENE';\nexport const push = (path, props = {}) => ({\n    type: PUSH_SCENE,\n    data: { path, props }\n});\n\nexport const POP_SCENE = 'POP_SCENE';\nexport const pop = () => ({\n    type: POP_SCENE,\n    data: null\n});\n\nexport const POP_AND_PUSH_SCENE = 'POP_AND_PUSH_SCENE';\nexport const popAndPush = (path, props = {}) => ({\n    type: POP_AND_PUSH_SCENE,\n    data: { path, props }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/index.js","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","import React, { PureComponent } from 'react';\nimport { View } from 'react-native';\n\n/**\n * A route nests scenes and other routes into a hierarchy.\n */\nexport class Route extends PureComponent {\n    componentWillMount() {\n\n        if (!this.props.path) {\n            console.error('Route must have a path');\n            return;\n        }\n\n        if (this.props.component) {\n            const initial = this.props.initial || false;\n            const path = this.getPath();\n            this.props.addScene(\n                path,\n                this.props.component,\n                initial,\n                this.props.props || {}\n            );\n        }\n    }\n\n    getPath = () => {\n        return this.props.parentPath + '/' + (this.props.path || '');\n    };\n\n    render() {\n        const has_children = React.Children.count(this.props.children) > 0;\n        return !has_children ? null : (\n            <View>\n              {\n                  React.Children.map(\n                      this.props.children,\n                      child => React.cloneElement(child, {\n                          addScene: this.props.addScene,\n                          parentPath: this.getPath()\n                      })\n                  )\n              }\n            </View>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Route.jsx","import { Router } from './components/Router';\nimport { Route } from './components/Route';\nimport * as actions from './actions';\nimport { routerReducer } from './reducers';\n\nexport {\n    Router,\n    Route,\n    actions,\n    routerReducer\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React, { PureComponent } from 'react';\nimport { View } from 'react-native';\nimport { addScene, push, pop, popAndPush } from '../actions';\nimport { connect } from 'react-redux';\nimport Route from './Route';\n\nclass Router extends PureComponent {\n    componentWillMount() {\n        if (React.Children.count(this.props.children) === 0) {\n            console.error('Router must have at least one child!');\n            return;\n        }\n    }\n\n    render() {\n        const { routing: { path, scenes } } = this.props;\n        if (typeof scenes[path] === 'undefined') {\n            // allow the children to mount and register themselves since they\n            // render null.\n            return (\n                <View>\n                  {\n                      React.Children.map(this.props.children,\n                          child => React.cloneElement(child, {\n                              addScene: this.props.addScene,\n                              parentPath: ''\n                          })\n                      )\n                  }\n                </View>\n            );\n        }\n        // the scenes are registered so render the chosen component\n        const { component, props } = scenes[path];\n        return React.createElement(component, {\n            ...props,\n            routing: {\n                pop: this.props.pop,\n                push: this.props.push,\n                popAndPush: this.props.popAndPush\n            }\n        });\n    }\n}\n\nconst mapStateToProps = ({ routing }) => ({ routing });\nconst mapDispatchToProps = dispatch => ({\n    addScene: (p,c,i,ps = {}) => dispatch(addScene(p,c,i,ps)),\n    push: (a, b = {}) => dispatch(push(a, b)),\n    pop: () => dispatch(pop()),\n    popAndPush: (a, b = {}) => dispatch(popAndPush(a,b))\n});\n\nconst router = connect(mapStateToProps,mapDispatchToProps)(Router);\n\nexport { router as Router };\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Router.jsx","module.exports = ReactRedux;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactRedux\"\n// module id = 5\n// module chunks = 0","import {\n    ADD_SCENE,\n    PUSH_SCENE,\n    POP_SCENE,\n    POP_AND_PUSH_SCENE\n} from '../actions';\n\nconst initialState = {\n    path: '/',\n    history: [],\n    scenes: {} // path -> { component / props }\n};\n\nconst addScene = (state, { path, component, initial, props }) => {\n    let newState = { ...state };\n    newState.scenes[path] = { component, props };\n    if (initial) {\n        newState.path = path;\n    }\n    return newState;\n};\n\nconst pushScene = (state, { path, props }) => {\n    let newState = { ...state };\n    newState.scenes[path].props = { ...newState.scenes[path].props, ...props};\n    newState.history.push(state.path);\n    newState.path = path;\n    return newState;\n};\n\nconst popScene = (state) => {\n    let newState = { ...state };\n    const path = newState.history.pop() || '/';\n    newState.path = path;\n    return newState;\n};\n\nconst popAndPushScene = (state, { path, props }) => {\n    let newState = { ...state };\n    newState.scenes[path].props = props;\n    newState.history.pop();\n    newState.path = path;\n    return newState;\n};\n\nexport const routerReducer = (state = initialState, action) => {\n    switch (action.type) {\n    case ADD_SCENE:\n        return addScene(state, action.data);\n    case PUSH_SCENE:\n        return pushScene(state, action.data);\n    case POP_SCENE:\n        return popScene(state);\n    case POP_AND_PUSH_SCENE:\n        return popAndPushScene(state, action.data);\n    default:\n        return state;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.js"],"sourceRoot":""}